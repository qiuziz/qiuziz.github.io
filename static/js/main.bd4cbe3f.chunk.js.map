{"version":3,"sources":["components/header-bar/index.tsx","components/menu/index.tsx","components/menu-left/index.tsx","pages/dashboard/mock.ts","pages/dashboard/index.tsx","router/index.tsx","reportWebVitals.ts","index.tsx"],"names":["HeaderBar","state","icon","count","visible","id","style","lineHeight","float","className","Component","CustomMenu","openKeys","selectedKeys","defaultNodeList","handleClick","e","console","log","setState","key","props","onSelect","this","theme","mode","onClick","menus","map","item","Item","name","React","withRouter","SubMenu","current","onOpenChange","info","renderMenuItem","viewContent","title","renderSubMenu","children","child","length","url","window","history","pushState","handleMenuClick","menuPaths","findMenuPath","onMenuChange","nextProps","paths","slice","toString","height","ret","step","targetKey","findRet","push","pop","MENU_LIST","entry","Header","Sider","Content","Footer","LAST_SELECTED_MENU","Dashboard","toggle","collapsed","genActiveRule","routerPrefix","location","pathname","startsWith","getSubTree","menu","forEach","value","getMenuQuery","filterVisibleMenu","handleMenuChange","includes","authority_type","currentMenuPaths","localStorage","setItem","selectedMenu","getItem","loading","subLoader","subAppList","loader","container","document","getElementById","ReactDOM","render","position","top","left","spinning","host","activeRule","registerMicroApps","beforeLoad","app","Promise","resolve","reject","beforeMount","afterUnmount","initGlobalState","user","onGlobalStateChange","setGlobalState","prev","ignore","start","runAfterFirstMounted","justify","xs","span","lg","width","onCollapse","BasicRoute","basename","path","component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB"],"mappings":"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","file":"static/js/main.bd4cbe3f.chunk.js","sourcesContent":["/*\n * @Author: qiuz\n * @Github: <https://github.com/qiuziz>\n * @Date:  2021-01-24 18:40:37\n * @Last Modified by: qiuz\n */\n\nimport React, { Component } from 'react';\nimport './index.less';\n\nexport default class HeaderBar extends Component<any, any> {\n  state = {\n    icon: 'arrows-alt',\n    count: 100,\n    visible: false\n  };\n\n  render() {\n    return (\n      <div id=\"headerbar\">\n        <div style={{ lineHeight: '64px', float: 'right' }}>\n          <ul className=\"header-ul\"></ul>\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport { Menu } from 'antd';\n\n//此组件的意义就是将数据抽离出来，通过传递数据去渲染\nclass CustomMenu extends React.Component<any> {\n  state = {\n    openKeys: [],\n    selectedKeys: ['4'],\n    defaultNodeList: []\n  };\n\n  handleClick = (e: any) => {\n    console.log('click ', e);\n    this.setState({ selectedKeys: [`${e.key}`] });\n    this.props.onSelect(`${e.key}`);\n  };\n\n  render() {\n    const { openKeys, selectedKeys } = this.state;\n    return (\n      <Menu theme=\"dark\" mode=\"horizontal\" onClick={this.handleClick} selectedKeys={selectedKeys}>\n        {this.props.menus &&\n          this.props.menus.map((item: { key: string; name: string }) => {\n            return <Menu.Item key={item.key}>{item.name}</Menu.Item>;\n          })}\n      </Menu>\n    );\n  }\n}\n\nexport default withRouter(CustomMenu);\n","import React from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport { Menu } from 'antd';\nconst { SubMenu } = Menu;\n\ninterface MenuField {\n  url: string;\n  key: string;\n  name: string;\n  children: MenuField[];\n}\n\n//此组件的意义就是将数据抽离出来，通过传递数据去渲染\nclass CustomMenu extends React.Component<any> {\n  state = {\n    openKeys: [],\n    selectedKeys: [this.props.current ?? '47'],\n    defaultNodeList: []\n  };\n  componentWillReceiveProps(nextProps: any) {\n    if (nextProps.menus !== this.props.menus) {\n      const paths = findMenuPath(nextProps.menus, this.state.selectedKeys[0]);\n      this.setState({ openKeys: paths.slice(0, -1).map((item) => item.key.toString()) });\n    }\n  }\n\n  onOpenChange = (openKeys: any) => {\n    console.info('openKeys:', openKeys);\n    this.setState({\n      openKeys\n    });\n  };\n  renderMenuItem = (item: any) => {\n    return (\n      <Menu.Item key={item.key} onClick={() => this.viewContent(item)}>\n        <span>{item.title}</span>\n      </Menu.Item>\n    );\n  };\n  renderSubMenu = (item: any) => {\n    return (\n      <Menu.SubMenu\n        key={item.key}\n        title={\n          <span>\n            <span>{item.title}</span>\n          </span>\n        }\n      >\n        {item.children &&\n          item.children.map((child: any) => {\n            return child.children && child.children.length > 0\n              ? this.renderSubMenu(child)\n              : this.renderMenuItem(child);\n          })}\n      </Menu.SubMenu>\n    );\n  };\n  viewContent = (item: { url: string }) => {\n    console.log(item);\n\n    item.url && window.history.pushState('', '', item.url);\n  };\n\n  handleMenuClick = (key: string | number) => {\n    this.setState({ selectedKeys: [key] });\n    const menuPaths = findMenuPath(this.props.menus, key);\n    this.props.onMenuChange(menuPaths);\n  };\n\n  render() {\n    const { openKeys, selectedKeys } = this.state;\n    return (\n      <Menu\n        mode=\"inline\"\n        onOpenChange={this.onOpenChange}\n        onClick={({ key }) => this.handleMenuClick(key)}\n        openKeys={openKeys}\n        selectedKeys={selectedKeys}\n        style={{ height: '100%' }}\n      >\n        {this.props.menus &&\n          this.props.menus.map((item: any) => {\n            return item.children && item.children.length > 0\n              ? this.renderSubMenu(item)\n              : this.renderMenuItem(item);\n          })}\n      </Menu>\n    );\n  }\n}\n\nexport const findMenuPath = (menus: MenuField[], key: string | number) => {\n  let ret: MenuField[] = [];\n  const step = (\n    menus: MenuField[],\n    targetKey: string | number,\n    menuPaths: MenuField[]\n  ): boolean => {\n    let findRet = false;\n    for (const item of menus) {\n      if (item.key == targetKey) {\n        menuPaths.push(item);\n        ret = menuPaths;\n        return true;\n      }\n      if (item.children && item.children.length) {\n        menuPaths.push(item);\n        findRet = step(item.children, targetKey, menuPaths);\n        if (findRet) {\n          break;\n        } else {\n          menuPaths.pop();\n        }\n      }\n    }\n    return findRet;\n  };\n  step(menus, key, []);\n  return ret;\n};\n\nexport default withRouter(CustomMenu);\n","export const MENU_LIST = [\n  {\n    id: 1,\n    key: 1,\n    title: 'Blog',\n    url: '/blog',\n    entry: '/blog/',\n  },\n  {\n    id: 2,\n    key: 2,\n    title: 'React Image Map',\n    url: '/widget/react-image-map/',\n    entry: '/react-image-map/',\n  },\n];\n","/*\n * @Author: qiuz\n * @Github: <https://github.com/qiuziz>\n * @Date:  2021-01-24 18:39:02\n * @Last Modified by: qiuz\n */\n\nimport React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport { Layout, Menu, Breadcrumb, Row, Col, Spin } from 'antd';\nimport './index.less';\n\nimport { registerMicroApps, start, initGlobalState, runAfterFirstMounted } from 'qiankun';\nimport { HeaderBar, CustomMenuLeft, findMenuPath } from 'components';\n\nimport { MENU_LIST } from './mock';\n\nconst { Header, Sider, Content, Footer } = Layout;\n\nconst LAST_SELECTED_MENU = 'last_selected_menu';\n\nexport default class Dashboard extends Component<any, any> {\n  constructor(props: any) {\n    super(props);\n    const selectedMenu = localStorage.getItem(LAST_SELECTED_MENU);\n    this.state = {\n      current: selectedMenu ?? '47',\n      loading: false,\n      collapsed: false,\n      subLoader: null,\n      menu: [],\n      subAppList: [],\n      currentMenuPaths: []\n    };\n  }\n  toggle = () => {\n    this.setState({\n      collapsed: !this.state.collapsed\n    });\n  };\n\n  genActiveRule = (routerPrefix: string) => {\n    return (location: any) => location.pathname.startsWith(routerPrefix);\n  };\n\n  componentDidMount() {\n    const loader = (loading: any) => {\n      const container = document.getElementById('subapp-container');\n      ReactDOM.render(\n        <>\n          <Spin\n            style={{\n              position: 'absolute',\n              top: '50%',\n              left: 'calc(50% + 100px)'\n            }}\n            spinning={loading}\n          />\n          <div id=\"subapp-viewport\" />\n        </>,\n        container\n      );\n    };\n    const subAppList = MENU_LIST.map((menu: any) => {\n      return {\n        name: menu.title,\n        entry: `//${window.location.host}${menu.entry}`,\n        container: '#subapp-viewport',\n        loader,\n        activeRule: menu.url\n      };\n    });\n    this.setState({\n      loading: true,\n      subLoader: loader,\n      subAppList\n    });\n\n    registerMicroApps(\n      subAppList,\n      {\n        beforeLoad: [\n          (app: any) =>\n            new Promise((resolve, reject) => {\n              console.log('[LifeCycle] before load %c%s', 'color: green;', app.name);\n              resolve(app.name);\n            })\n        ],\n        beforeMount: [\n          (app) =>\n            new Promise((resolve, reject) => {\n              console.log('[LifeCycle] before mount %c%s', 'color: green;', app.name);\n              resolve(app.name);\n            })\n        ],\n        afterUnmount: [\n          (app) =>\n            new Promise((resolve, reject) => {\n              console.log('[LifeCycle] after unmount %c%s', 'color: green;', app.name);\n              resolve(app.name);\n            })\n        ]\n      }\n    );\n    const { onGlobalStateChange, setGlobalState } = initGlobalState({\n      user: 'qiankun'\n    });\n\n    onGlobalStateChange((value, prev) =>\n      console.log('[onGlobalStateChange - master]:', value, prev)\n    );\n\n    setGlobalState({\n      ignore: 'master',\n      user: {\n        name: 'master'\n      }\n    });\n\n    /**\n     * Step4 启动应用\n     */\n    start();\n    this.getMenuQuery();\n    runAfterFirstMounted(() => {\n      console.log('[MainApp] first app mounted');\n    });\n  }\n\n  handleClick = (e: any) => {\n    console.log('click ', e);\n    this.setState({ current: e.key });\n  };\n\n  getSubTree = (): [] | null => {\n    const key = this.state.current;\n    let children = null;\n    this.state.menu.forEach((value: any) => {\n      if (value.key === key) {\n        children = value.children;\n      }\n    });\n    return children;\n  };\n\n  getMenuQuery = () => {\n    console.log('执行');\n    // 暂时MOCK\n    const menu: any = MENU_LIST;\n    this.setState({\n      menu: this.filterVisibleMenu(menu)\n    });\n    if (this.state.current) {\n      this.handleMenuChange(findMenuPath(menu, this.state.current));\n    }\n  };\n\n  filterVisibleMenu = (menus: any[]) => {\n    const ret = [];\n    for (const item of menus) {\n      if ([2, 3].includes(item.authority_type)) {\n        continue;\n      }\n      ret.push(item);\n      if (item.children) {\n        item.children = this.filterVisibleMenu(item.children);\n      }\n    }\n    return ret;\n  };\n\n  handleMenuChange = (menuPaths: any[]) => {\n    this.setState({ currentMenuPaths: menuPaths });\n    if (menuPaths.length) {\n      localStorage.setItem(LAST_SELECTED_MENU, menuPaths[menuPaths.length - 1].key);\n    }\n  };\n\n  render() {\n    const { menu, current, subLoader } = this.state;\n    const subTree = this.getSubTree();\n    return (\n      <BrowserRouter>\n        <Layout className=\"widgets-layout\">\n          <Header className=\"header\">\n            <div className=\"logo\">Widgets</div>\n            <Row justify=\"space-around\">\n              <Col xs={{ span: 20 }} lg={{ span: 20 }}></Col>\n              <Col xs={{ span: 24 }} lg={{ span: 4 }}>\n                <HeaderBar />\n              </Col>\n            </Row>\n          </Header>\n          <Layout className=\"widgets-layout-content\">\n            <Sider width={200} collapsed={this.state.collapsed} onCollapse={this.state.collapsed}>\n              <CustomMenuLeft\n                menus={menu}\n                current={this.state.current}\n                onMenuChange={this.handleMenuChange}\n              />\n            </Sider>\n            <Layout className=\"widgets-layout-container\">\n              <Breadcrumb className=\"widgets-layout-container-breadcrumd\">\n                {this.state.currentMenuPaths.map((item: any) => {\n                  return <Breadcrumb.Item key={item.id}>{item.title}</Breadcrumb.Item>;\n                })}\n              </Breadcrumb>\n              <Content className=\"site-layout-background\">\n                <div id=\"subapp-container\" className=\"view\"></div>\n              </Content>\n              <Footer className=\"widgets-layout-container-footer\">\n                Widgets ©2021 Created by qiuz\n              </Footer>\n            </Layout>\n          </Layout>\n        </Layout>\n      </BrowserRouter>\n    );\n  }\n}\n","/*\n * @Author: qiuz\n * @Github: <https://github.com/qiuziz>\n * @Date:  2021-01-24 18:37:50\n * @Last Modified by: qiuz\n */\n\nimport React from 'react';\nimport { BrowserRouter, Redirect, Route, Switch } from 'react-router-dom';\nimport Dashboard from 'pages/dashboard';\n\nconst BasicRoute = () => (\n  <BrowserRouter basename={'/'}>\n    <Switch>\n      <Route path=\"*\" component={Dashboard} />\n    </Switch>\n  </BrowserRouter>\n);\n\nexport default BasicRoute;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.less';\nimport Router from './router';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(<Router />, document.getElementById('root'));\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}